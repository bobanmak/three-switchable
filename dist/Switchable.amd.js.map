{"version":3,"file":"Switchable.amd.js","sources":["../src/Switchable.module.js"],"sourcesContent":["// 6.2.21 Boban J.\r\nimport * as THREE from \"../../node_modules/three/build/three.module.js\";\r\n\r\n\r\nconst Switchable = {\r\n\r\n    interface: {\r\n        initSwitchable : function( opts ){\r\n            // console.log(\"Opts: \", opts );\r\n            this.states  = this.states || {};\r\n            \r\n            let defaults = {\r\n                castShadow: true,\r\n                shadow: {\r\n                    camera:{\r\n                        near: 0.01,\r\n                        far: 15,\r\n                        fov: 45,\r\n                    },\r\n                    mapSize:{\r\n                        width: 1024,\r\n                        height: 1024\r\n                    },\r\n                    bias: 0\r\n                }\r\n            };\r\n    \r\n            this.options = Object.assign( {}, defaults, opts );\r\n            Object.assign( this.states, { intensity: this.intensity, active: true })\r\n        },\r\n    \r\n        getInfo: function(){\r\n            console.log( \"interface - switchable: \", this );\r\n        },\r\n    \r\n        turnOn: function(){\r\n            \r\n            if ( this.states.active ) return;\r\n    \r\n            this.intensity  = this.states.intensity;\r\n            this.visible    = true;\r\n            this.states.active = true;\r\n            console.log( \"Lights on!\");\r\n    \r\n            if ( this.shadowCameraHelper ){\r\n             this.shadowCameraHelper.visible = true;\r\n            }\r\n        },\r\n    \r\n        turnOff: function(){\r\n    \r\n            if ( !this.states.active ) return;\r\n    \r\n            this.states.intensity = this.intensity;\r\n            this.intensity = 0;\r\n            this.visible = false;\r\n            this.states.active = false;\r\n            console.log( \"Lights off!\");\r\n    \r\n            \r\n            if ( this.shadowCameraHelper ){\r\n                this.shadowCameraHelper.visible = false;\r\n            }\r\n        },\r\n        \r\n        toggle: function(){\r\n            if ( this.states.active ){\r\n                this.turnOff();\r\n            } \r\n            else {\r\n                this.turnOn();\r\n            }\r\n        },\r\n    \r\n        setShadow : function( opts ){\r\n    \r\n            let opt = Object.assign( {}, this.options, opts );\r\n            this.shadow.camera.near\t= opt.shadow.camera.near;\r\n            this.shadow.camera.far\t= opt.shadow.camera.far;\r\n            this.shadow.camera.fov\t= opt.shadow.camera.fov;\r\n    \r\n            this.shadow.mapSize.width\t= opt.shadow.mapSize.width;\r\n            this.shadow.mapSize.height\t= opt.shadow.mapSize.height;\r\n            this.shadow.bias = opt.shadow.bias;\r\n            \r\n        },\r\n    \r\n        enableShadow: function(){\r\n            this.castShadow\t= true;\r\n        },\r\n    \r\n        disableShadow: function(){\r\n            this.castShadow\t= false;\r\n        },\r\n    \r\n        addHelpersToScene: function( scene ){\r\n    \r\n            this.shadowCameraHelper = new THREE.CameraHelper( this.shadow.camera );\r\n    \r\n            if ( this.target ) scene.add( this.target );\r\n            scene.add( this.shadowCameraHelper );\r\n    \r\n        }\r\n    },\r\n\r\n    implement: function( instance ){\r\n        Object.assign( instance, Switchable.interface );\r\n        instance.initSwitchable();\r\n    }\r\n}\r\n\r\nexport {Switchable};\r\nexport default Switchable;"],"names":["THREE.CameraHelper"],"mappings":"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"}